#!/bin/sh

apm -H

echo "ssg1 (clean)"
time (for i in $(jot 10); do
rm -rf /var/www/htdocs/www.romanzolotarev.com/*
rm -rf /var/www/htdocs/www.romanzolotarev.com/.*
(cd ~/src/www && ROOT="https://www.romanzolotarev.com" DOCS=/var/www/htdocs/www.romanzolotarev.com ssg1 build >/dev/null)
printf '.'
done)

echo "ssg2 (clean)"
time (for i in $(jot 10); do
rm -rf /var/www/htdocs/www.romanzolotarev.com/*
rm -rf /var/www/htdocs/www.romanzolotarev.com/.*
ssg2 ~/src/www /var/www/htdocs/www.romanzolotarev.com/ 'Roman Zolotarev' >/dev/null 2>&1
printf '.'
done)

# echo "ssg (clean)"
# time (for i in $(jot 10); do
# rm -rf /var/www/htdocs/www.romanzolotarev.com/*
# rm -rf /var/www/htdocs/www.romanzolotarev.com/.*
# ssg ~/src/www /var/www/htdocs/www.romanzolotarev.com/ 'Roman Zolotarev' >/dev/null  2>&1
# printf '.'
# done)

echo "ssg1"
time (for i in $(jot 10); do
(cd ~/src/www && ROOT="https://www.romanzolotarev.com" DOCS=/var/www/htdocs/www.romanzolotarev.com ssg1 build >/dev/null)
printf '.'
done)

echo "ssg2 (incremental)"
time (for i in $(jot 10); do
ssg2 ~/src/www /var/www/htdocs/www.romanzolotarev.com/ 'Roman Zolotarev' >/dev/null 2>&1
printf '.'
done)

# echo "ssg (incremental)"
# time (for i in $(jot 10); do
# ssg ~/src/www /var/www/htdocs/www.romanzolotarev.com/ 'Roman Zolotarev' >/dev/null 2>&1
# printf '.'
# done)

apm -A
