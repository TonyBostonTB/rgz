<!DOCTYPE html><html lang="en">
<head><title>Fast web - Roman Zolotarev</title><meta charset="utf-8"><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="/styles.css"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#ffffff"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
</head>
<body><script>!function(t){ t.addEventListener('DOMContentLoaded', function () { var l = t.querySelector('#light-off'); if (l === null) { console.log('Lights-out...'); } else { l.checked = t.cookie.match(/lightOff=true/) !== null; l.addEventListener('change', function () { t.cookie = 'lightOff=' + JSON.stringify(l.checked) + ';path=/'; }); } })}(document);</script><input class="light-off" type="checkbox" id="light-off">
<div class="page">
<div class="header"><div class="header__home"><a href="/">Home</a> - <a href="https://twitter.com/romanzolotarev">Twitter</a></div><div class="header__light-off"><label for="light-off" class="light-off-button"></label></div></div>
<div class="article"><h1 id="Fast%20web">Fast web</h1>

<p>As a web developer, you have to focus on a million different things. It is
easy to forget about performance optimization, especially when you are
working against deadlines. This recipe is a good starting point to make
the web faster.</p>

<p>As our computers and internet connection are getting faster, we tend to
care less about performance optimization. How can we fix that? Or do we
need to fix it at all?</p>

<p>Notebooks and desktop computers are <a href="http://gs.statcounter.com/platform-market-share/desktop-mobile-tablet">no longer that popular among internet
citizens</a>.
We live in the era of smartphones. Limited CPU, RAM, and battery. That&#8217;s
the reality for a billion people today and for the next billion newcomers.</p>

<p>On the other side, the average page grows in size and demands more
powerful devices and faster connections. So the majority of people are
looking at the web through a teeny-tiny window, and <strong>the average page
takes five seconds to load</strong>.</p>

<p>I believe we as web developers are responsible for keeping the internet
nice and tidy. Cat pictures should be accessible to everyone on this
planet!</p>

<p>For a start, you can test your site with something straightforward and
easy to use like <a href="https://tools.pingdom.com">the Pingdom Website Speed
Test</a>.</p>

<p><img src="/fast-waterfall.png" alt="Pingdom Speed Test results" /></p>

<p>If your performance grade is lower than 90, then you should probably fix
it.</p>

<h2 id="Design%20lightly">Design lightly</h2>

<p><strong>Set strict constraints.</strong> For a web page like this, I set the following
limits: up to ten requests per page, 1000 ms for render, 1000 ms of load
time. For a single-page application, it can be a few times more.</p>

<p><strong>Cut everything you can.</strong> Always question yourself before adding every
feature, every asset, every byte. Is it worth adding 300 KB for a web
font? Do I need to place everything on one page? Do I need this huge
background image?</p>

<p><strong>Simplify layout and typography.</strong> Content is king. Use large fonts and
white space. Avoid huge images and custom web fonts as much as you can.</p>

<h2 id="Reduce%20bloat">Reduce bloat</h2>

<p><strong>Low-res video.</strong> Make sure low bitrate videos are available (e.g., 12
fps, 80 kbps). Make sure your videos looks good at low resolution. Test
all text and every other little detail. Use a larger font for captions.
Keep bitrate low.</p>

<p><strong>No preload.</strong> Unless it is necessary and expected by users, don&#8217;t
preload videos and don&#8217;t start playing automatically.</p>

<p><strong>Optimize images.</strong> Pick the appropriate format for every image.
Sometimes an indexed PNG at 16 colors beats a JPG, and vice versa. Use
<a href="https://imageoptim.com">ImageOptim</a> for all images.</p>

<p><strong>Lazy load.</strong> If your page is long and has lots of images and videos,
lazy-load the page as the viewer scrolls. Use
<a href="https://github.com/dinbror/blazy/">bLazy.js</a> (it weights 1.4KB) or better
yet, write your own script.</p>

<h2 id="HTML,%20CSS,%20JavaScript">HTML, CSS, JavaScript</h2>

<p><strong>Minify.</strong> This part is easy. You can minify all text assets at build
time or even let <a href="https://www.cloudflare.com">CloudFlare</a> do it.</p>

<p><strong>No frameworks.</strong> Avoid adding CSS and JavaScript frameworks unless you
need them.</p>

<p><strong>Code-splitting.</strong> Load JavaScript and CSS only when you need them. This
can be challenging without automation, and this kind of optimization
requires a lot of work, but when your app is large you have no choice.</p>

<p><strong>Keep pages static.</strong> Static HTML is blazingly fast &#8212; use it as much as
possible. For a blog, you can easily avoid databases on the server side
and JavaScript on the client side.</p>

<p><strong>Third-party scripts.</strong> Think twice about adding social media buttons
(Facebook, Twitter, GitHub, etc.). Use plain text and links instead. The
same applies to <em>Google Analytics</em>: get rid of it unless you need all that
data.</p>

<p>Yes, these scripts can be convenient in some cases, but the price is
enormous. Folks with ad blockers won&#8217;t see the button you want them to
click, while other people will experience a slower page load and
compromised privacy (additional requests, kilobytes of JavaScript, and
cookies).</p>

<h2 id="Automate">Automate</h2>

<p>A focus on performance helps you to pick the right tools from the start
and build a great product, but performance optimization becomes
prohibitively expensive as your web app grows.</p>

<p>Talk to your team. <a href="/webpagetest.html">Automate web page performance
testing</a>. Include it in
your continuous deployment process. Set a performance budget. Catch
performance issues early.</p>

<h2 id="See%20also">See also</h2>

<p><a href="https://medium.com/@addyosmani/progressive-web-apps-with-react-js-part-2-page-load-performance-33b932d97cf2">Progressive Web Apps with React.js by Addy Osmani</a>,
<a href="https://www.youtube.com/watch?v=PqA3jBpT6T0">High Performance in the Critical Rendering Path by Nicolas Bevacqua</a></p></div>
<div class="footer">&copy; <a href="/">Roman Zolotarev</a></div>
</div></body></html>
